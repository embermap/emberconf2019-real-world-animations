{{animated-orphans}}

<div class="h-screen flex flex-col">
  <div class="h-full flex">
    <div class="w-64 border-r flex flex-col">
      <ul class='sticky pin-t list-reset'>
        {{#each (array
          (hash model='1-css-only' label='1. CSS Only')
          (hash model='2-modifier-reuse' label='2. Modifier reuse')
          (hash model='3-resortable-list' label='3. Resortable list')
          (hash model='4-beacon-shopping-cart' label='4. Beacon shopping cart')
        ) as |route|}}
          <li class='relative'>
            {{#link-to 'show' route.model class='no-underline p-4 pl-5 text-grey-darkest inline-block border-b w-full' activeClass='bg-grey-lighter'}}
              {{route.label}}
            {{/link-to}}

            {{#animated-if (is-active 'show' route.model) use=activeNavTransition group='nav' duration=250}}
              <div class='absolute w-2 bg-blue pin-t pin-b'></div>
            {{/animated-if}}
          </li>
        {{/each}}
      </ul>

      <button class='mt-auto p-4 focus:outline-none' {{action (mut isShowingTools) (not isShowingTools)}}>
        Controls
      </button>
    </div>

    <main class='w-full overflow-scroll'>
      {{outlet}}
    </main>
  </div>

  <AnimatedContainer>
    {{#animated-if isShowingTools use=transition duration=250}}
      <div class="z-50 bg-grey-darkest text-white w-full shadow-inner">
        <div class="flex">
          <div class="w-256 mx-auto">
            <TimeControl />
          </div>
        </div>
      </div>
    {{/animated-if}}
  </AnimatedContainer>
</div>
